<div class="container-fluid">
  <div class="row  text-center">
    <div class="jumbotron col-12 mb-0 pb-0">
      <h3>Produtos</h3>
    </div>
  </div>
  <div class="row mx-5">
    <div class="col-12">
      <!-- rowExpandMode="single" -->
      <p-table #dt_products [columns]="colsProducts" [value]="products" [(selection)]="selectedProducts" [paginator]="true"
        [autoLayout]="true" [responsive]="true" [rows]="5" [alwaysShowPaginator]="false">

        <ng-template pTemplate="caption">
          <div style="text-align: left">
            <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
            <input type="text" pInputText placeholder="Pesquisa..." (input)="dt_products.filterGlobal($event.target.value, 'contains')"
              style="width:250px">
          </div>
        </ng-template>

        <ng-template pTemplate="header" let-columns>
          <tr>
            <th style="width: 3em">
              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            </th>
            <th *ngFor="let col of columns">
              {{col.header}}
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns" let-expanded="expanded">
          <tr [pSelectableRow]="rowData">
            <td>
              <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
            </td>
            <td *ngFor="let col of columns">
              <span class="ui-column-title">{{col.header}}</span>
              {{col.field.includes('value')?(rowData[col.field]|conversion:'BRL':false):
              ((col.field === 'spotlight' || col.field === 'hyper')?'':
              rowData[col.field])}}
              <span *ngIf="col.field === 'spotlight' || col.field === 'hyper'" [ngStyle]="{'color': rowData[col.field]==='N'?'red':''}">{{rowData[col.field]==='Y'?'Sim':'Não'}}</span>
            </td>
          </tr>
        </ng-template>

      </p-table>
    </div>
  </div>
  <div class="row p-5 text-center justify-content-around m-5">
    <button pButton type="button" label="Ativar Nacional" (click)="actionItems('products',0)" class="col-12 col-sm-5 my-2 ui-button-success"></button>
    <button pButton type="button" label="Desativar Nacional" (click)="actionItems('products',1)" class="col-12 col-sm-5 my-2 ui-button-danger"></button>
    <button pButton type="button" label="Ativar Destaque" (click)="actionItems('products',2)" class="col-12 col-sm-5 my-2 ui-button-success"></button>
    <button pButton type="button" label="Desativar Destaque" (click)="actionItems('products',3)" class="col-12 col-sm-5 my-2 ui-button-danger"></button>
    <button pButton type="button" label="Ativar Produto" (click)="actionItems('products',4)" class="col-12 col-sm-5 my-2 ui-button-success"></button>
    <button pButton type="button" label="Inativar Produto" (click)="actionItems('products',5)" class="col-12 col-sm-5 my-2 ui-button-danger"></button>
  </div>
  <div class="row  text-center">
    <div class="jumbotron col-12 mb-0 pb-0">
      <h3>Serviços</h3>
    </div>
  </div>
  <div class="row mx-5">
    <div class="col-12">
      <p-table #dt_services [columns]="colsServices" [value]="services" [(selection)]="selectedServices" [paginator]="true"
        [autoLayout]="true" [responsive]="true" [rows]="5" [alwaysShowPaginator]="false">

        <ng-template pTemplate="caption">
          <div style="text-align: left">
            <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
            <input type="text" pInputText placeholder="Pesquisa..." (input)="dt_services.filterGlobal($event.target.value, 'contains')"
              style="width:250px">
          </div>
        </ng-template>

        <ng-template pTemplate="header" let-columns>
          <tr>
            <th style="width: 3em">
              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            </th>
            <th *ngFor="let col of columns">
              {{col.header}}
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns" let-expanded="expanded">
          <tr [pSelectableRow]="rowData">
            <td>
              <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
            </td>
            <td *ngFor="let col of columns">
              <span class="ui-column-title">{{col.header}}</span>
              {{col.field.includes('value')?(rowData[col.field]|conversion:'BRL':false):
              ((col.field === 'spotlight' || col.field === 'hyper')?'':
              rowData[col.field])}}
              <span *ngIf="col.field === 'spotlight' || col.field === 'hyper'" [ngStyle]="{'color': rowData[col.field]==='N'?'red':''}">{{rowData[col.field]==='Y'?'Sim':'Não'}}</span>
            </td>
          </tr>
        </ng-template>

      </p-table>
    </div>
  </div>
  <div class="row p-5 text-center justify-content-around m-5">
    <button pButton type="button" label="Ativar Nacional" (click)="actionItems('services',0)" class="col-12 col-sm-5 my-2 ui-button-success"></button>
    <button pButton type="button" label="Desativar Nacional" (click)="actionItems('services',1)" class="col-12 col-sm-5 my-2 ui-button-danger"></button>
    <button pButton type="button" label="Ativar Destaque" (click)="actionItems('services',2)" class="col-12 col-sm-5 my-2 ui-button-success"></button>
    <button pButton type="button" label="Desativar Destaque" (click)="actionItems('services',3)" class="col-12 col-sm-5 my-2 ui-button-danger"></button>
    <button pButton type="button" label="Ativar Serviço" (click)="actionItems('services',4)" class="col-12 col-sm-5 my-2 ui-button-success"></button>
    <button pButton type="button" label="Inativar Serviço" (click)="actionItems('services',5)" class="col-12 col-sm-5 my-2 ui-button-danger"></button>
  </div>
  <div class="row  text-center mb-0">
    <div class="jumbotron col-12 mb-0 pb-0">
      <h3>Guia Smart</h3>
    </div>
  </div>
  <div class="row mx-5">
    <div class="col-12">
      <p-table #dt_gift_cards [columns]="colsGiftCards" [value]="giftCards" [(selection)]="selectedGiftCards" [paginator]="true"
        [autoLayout]="true" [responsive]="true" [rows]="5" [alwaysShowPaginator]="false">

        <ng-template pTemplate="caption">
          <div style="text-align: left">
            <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
            <input type="text" pInputText placeholder="Pesquisa..." (input)="dt_gift_cards.filterGlobal($event.target.value, 'contains')"
              style="width:250px">
          </div>
        </ng-template>

        <ng-template pTemplate="header" let-columns>
          <tr>
            <th style="width: 3em">
              <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            </th>
            <th *ngFor="let col of columns">
              {{col.header}}
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns" let-expanded="expanded">
          <tr [pSelectableRow]="rowData">
            <td>
              <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
            </td>
            <td *ngFor="let col of columns">
              <span class="ui-column-title">{{col.header}}</span>
              {{col.field.includes('value')?(rowData[col.field]|conversion:'BRL':false):
              ((col.field === 'spotlight' || col.field === 'hyper')?'':
              rowData[col.field])}}
              <span *ngIf="col.field === 'spotlight' || col.field === 'hyper'" [ngStyle]="{'color': rowData[col.field]==='N'?'red':''}">{{rowData[col.field]==='Y'?'Sim':'Não'}}</span>
            </td>
          </tr>
        </ng-template>

      </p-table>
    </div>
  </div>
  <div class="row p-5 text-center justify-content-around m-5">
    <button pButton type="button" label="Ativar Nacional" (click)="actionItems('gift_cards',0)" class="col-12 col-sm-5 my-2 ui-button-success"></button>
    <button pButton type="button" label="Desativar Nacional" (click)="actionItems('gift_cards',1)" class="col-12 col-sm-5 my-2 ui-button-danger"></button>
    <button pButton type="button" label="Ativar Destaque" (click)="actionItems('gift_cards',2)" class="col-12 col-sm-5 my-2 ui-button-success"></button>
    <button pButton type="button" label="Desativar Destaque" (click)="actionItems('gift_cards',3)" class="col-12 col-sm-5 my-2 ui-button-danger"></button>
    <button pButton type="button" label="Ativar Guia" (click)="actionItems('gift_cards',4)" class="col-12 col-sm-5 my-2 ui-button-success"></button>
    <button pButton type="button" label="Inativar Guia" (click)="actionItems('gift_cards',5)" class="col-12 col-sm-5 my-2 ui-button-danger"></button>
    <button pButton type="button" label="Voltar" (click)="back()" class="col-12 col-sm-5 my-3" *ngIf="id_user"></button>
  </div>
</div>